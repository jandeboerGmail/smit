import smtplib, ssl

#smtp_server = "smitelektrotechniek.mail.protection.outlook.com"
#port = 25

#gmail
#EMAIL_HOST_USER=smitvideoapp@gmail.com
#EMAIL_HOST_PASSWORD=zucyooafnvevhatt
smtp_server ="smtp.gmail.com"
sender_email = "sgportal@gmail.com"
sender_login = "smitvideoapp@gmail.com"
sender_password = "zucyooafnvevhatt"
port = 465


# Create a secure SSL context
context = ssl.create_default_context()

# Try to log in to server and send email
try:
    server = smtplib.SMTP(smtp_server,port)
    server.connect(smtp_server,port)
    
    server.ehlo() # Can be omitted
    server.starttls(context=context) # Secure the connection
    #server.starttls()
    server.ehlo() # Can be omitted
    
    #server.login(sender_login,'')
    server.login(sender_login,sender_password)

    # TODO: Send email here
    server.sendmail("sgportal@gmail.com","jandeboer@gmail.com", "testing 123")

except Exception as e:
    # Print any error messages to stdout
    print(e)
finally:
    server.quit() 
